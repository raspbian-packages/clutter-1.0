From cafcf14e0e199df65842359d95c6595de46ad32b Mon Sep 17 00:00:00 2001
From: Alejandro Pi√±eiro <apinheiro@igalia.com>
Date: Wed, 09 May 2012 15:10:55 +0000
Subject: a11y: atk_add_key_event_listener listener_id should not return 0 as a valid value

cally_util_add_key_event_listener first id returned was 0, but as
the documentation says, this is a reserved value for a wrong id

Fixes https://bugzilla.gnome.org/show_bug.cgi?id=675183
---
diff --git a/clutter/cally/cally-util.c b/clutter/cally/cally-util.c
index 2797555..e4c90a7 100644
--- a/clutter/cally/cally-util.c
+++ b/clutter/cally/cally-util.c
@@ -233,7 +233,7 @@ static guint
 cally_util_add_key_event_listener (AtkKeySnoopFunc  listener,
                                    gpointer         data)
 {
-  static guint key=0;
+  static guint key = 1;
   CallyKeyEventInfo *event_info = NULL;
 
   if (!key_listener_list)
--
cgit v0.9.0.2
